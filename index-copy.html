<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INTEGRA CO-OP</title>
    <script src="https://unpkg.com/lenis@1.1.18/dist/lenis.min.js"></script>
    <link rel="stylesheet" href="/style/index.css">
</head>
<body>
<div class="container">
        <div class="navbar">
            <iframe id="blond-nav" data-base-url="https://komutheme2.vercel.app/project/public/snippets/blonde/navbar.html" data-brand="INTEGRA CO-OP" data-logo_url="https://integraco-op.vercel.app/logo.png" data-link1_text="About" data-link2_text="Solutions" data-link3_text="Resources" data-link4_text="Contact" data-cta_text="Join" data-bg_color="transparent" data-text_color="1a1a1a" data-btn_bg="1a1a1a" data-btn_text="ffffff"></iframe>
        </div>

        <div class="intro2">
            <iframe 
                id="blond-intro"
                src=""
                data-base-url="https://komutheme2.vercel.app/project/public/snippets/blonde/intro-card.html"
                data-frame-id="blond-intro"
                data-eyebrow="Financial Freedom"
                data-heading="Empowering you to achieve your financial goals"
                data-description="INTEGRA is a member-owned cooperative platform committed to empowering individuals with the tools to save, invest, and build lasting wealth."
                data-btn_text="Get Started"
                data-btn_href="#"
                data-bg_image="https://integraco-op.vercel.app/img2.png"
                data-bg_color="ffffff"
                data-card_bg="0055af"
                data-text_color="ffffff"
                data-heading_color="ffffff"
                data-btn_bg="ffffff"
                data-btn_text_color="0055af"
            ></iframe>
        </div>

        <iframe 
            scrolling="no"
            id="blond-hero"
            src=""
            data-accent_color="0055af"
            data-base-url="https://komutheme2.vercel.app/project/public/snippets/blonde/hero.html"
            data-frame-id="blond-hero"
            data-headline="Build your wealth through"
            data-keywords="innovation.,trust.,collaboration.,empowerment."
            data-prob_title="The Gap"
            data-prob_desc="Accessing inclusive financial solutions and smart investment opportunities remains a hurdle for many everyday people."
            data-sol_title="The Gateway"
            data-sol_desc="INTEGRA bridges economic gaps through pooled resources, providing members with lower interest rates and higher returns."
            data-typing_speed="150"
            data-delete_speed="100"
            data-pause_time="2000"
            data-bg_color="transparent"
            data-text_color="1a1a1a"
            data-heading_color="1a1a1a"
            data-icon_color="1a1a1a"
        ></iframe>

        <iframe 
            id="blond-about-stats"
            src=""
            scrolling="no"
            data-base-url="https://komutheme2.vercel.app/project/public/snippets/blonde/about-stats.html"
            data-frame-id="blond-about-stats"
            data-head1="Member Owned"
            data-text1="We provide accessible financial solutions that enable members to save, invest, and build wealth regardless of their background."
            data-head2="Vision Driven"
            data-text2="Our mission is to be Nigeria’s leading cooperative platform, building people and possibilities through disciplined financial habits."
            data-image="https://integraco-op.vercel.app/img1.png"
            data-stat1_num="10k+" data-stat1_label="Active<br>Members"
            data-stat2_num="100%" data-stat2_label="Inclusive<br>Banking"
            data-stat3_num="24/7" data-stat3_label="Digital<br>Access"
            data-bg_color="transparent"
            data-text_color="1a1a1a"
            data-heading_color="1a1a1a"
            data-accent_color="00c060"
            data-badge_grad1="0768b3" 
            data-badge_grad2="00c060"
            data-badge_text="ffffff"
            data-badge_label="Empowerment • Partnership • Possibility •"
            data-link="Learn More About Us"
            data-link_href="#"
        ></iframe>

        <div class="finance">
            <iframe 
                id="cta-1" 
                data-cta_text="Get Started"
                scrolling="no" 
                data-base-url="https://komutheme2.vercel.app/project/public/snippets/lime/cta-card.html" 
                data-heading="SMART SAVINGS" 
                data-btn_text="Learn more"
                data-description="Structured programs to help you meet goals with disciplined financial habits and accountability." 
                data-icon="wallet" 
                data-bg_color="0055af" 
                data-btn_bg="ffffff" 
                data-btn_text_color="1a1a1a"
            ></iframe>

            <iframe 
                id="cta-2" 
                scrolling="no" 
                data-cta_text="Learn More"
                data-base-url="https://komutheme2.vercel.app/project/public/snippets/lime/cta-card.html" 
                data-heading="INVESTMENTS" 
                data-description="Participate in pooled investment opportunities vetted for growth and wealth creation." 
                data-icon="chart-line" 
                data-bg_color="000000" 
                data-btn_bg="ffffff" 
                data-btn_text_color="1a1a1a"
            ></iframe>
        </div>

        <div class="bubble-scroll-container">
            <div class="bubble-sticky-wrapper">
                <div class="parallax-bg">
                    <div class="floating-blob blue-blob"></div>
                    <div class="floating-blob green-blob"></div>
                </div>
                <div class="layer base-layer">
                    <h2 class="reveal-title">Strength in<br>Numbers. <iframe id="blond-btn-1" scrolling="no" src="" data-base-url="https://komutheme2.vercel.app/project/public/snippets/blonde/button.html" data-frame-id="blond-btn-1" data-text="Join" data-accent_color="00c060" data-text_color="ffffff"></iframe></h2>
                </div>
                <div class="layer top-layer" id="bubble-reveal">
                    <h2 class="reveal-title">Strength in<br>Numbers. <iframe id="blond-btn-2" scrolling="no" src="" data-base-url="https://komutheme2.vercel.app/project/public/snippets/blonde/button.html" data-frame-id="blond-btn-2" data-text="Join" data-accent_color="00c060" data-text_color="ffffff"></iframe></h2>
                </div>
            </div>
            <div class="scroll-spacer"></div>
        </div>

        <div class="testimonial-stack">
            <iframe 
            id="testi-1" 
            class="stacked-card" 
            scrolling="no" 
            data-base-url="https://komutheme2.vercel.app/project/public/snippets/blonde/testimonial-card.html" 
            data-avatar="https://integraco-op.vercel.app/img4.jpg" 
            data-name="Sandra E." 
            data-role="Member" 
            data-quote="INTEGRA'S structured savings plan helped me reach my financial goals faster than I ever thought possible." 
            data-card_bg="ffffff" 
            data-accent_color="00c060"></iframe>
            <iframe 
            id="testi-2" 
            class="stacked-card" 
            scrolling="no" 
            data-base-url="https://komutheme2.vercel.app/project/public/snippets/blonde/testimonial-card.html" 
            data-avatar="https://integraco-op.vercel.app/img3.jpg" 
            data-name="Kelvin T." 
            data-role="Entrepreneur" 
            data-quote="The collective investment opportunities and financial advisory have completely changed how I manage my wealth." 
            data-card_bg="ffffff" 
            data-accent_color="00c060"></iframe>
        </div>

        <div class="intro">
            <iframe id="blond-intro2"  data-bg_image="https://integraco-op.vercel.app/img2.png" data-base-url="https://komutheme2.vercel.app/project/public/snippets/blonde/intro-card.html" data-eyebrow="Join INTEGRA" data-heading="Secure your financial future." data-description="Join INTEGRA CO-OP today and access the community support you need to build lasting wealth." data-btn_text="Get Started Today" data-card_bg="1a1a1a" data-text_color="ffffff" data-heading_color="ffffff" data-btn_bg="ffffff"></iframe>
        </div>

        <div class="footer">
            <iframe id="custom-footer" scrolling="no" data-base-url="https://komutheme2.vercel.app/project/public/snippets/lime/footer.html" data-brand="INTEGRA" data-copyright="© 2026 INTEGRA CO-OP, all rights reserved." data-nav_links="About|#,Solutions|#,Resources|#,Support|#,Company|#,Contact|#" data-bg_color="4fcf0a27" data-text_color="0055af"></iframe>
        </div>
    </div>




    <svg width="0" height="0" style="position:absolute;">
        <defs>
            <filter id="wobble-filter">
                <feTurbulence id="turbulence" type="fractalNoise" baseFrequency="0.01" numOctaves="1" seed="1" />
                <feDisplacementMap in="SourceGraphic" scale="7" />
            </filter>
        </defs>
    </svg>

    <script>
        // Iframe Resizer & Parameter Handler
        const iframeState = {};

        window.addEventListener("message", e => {
            if (e.data.frameHeight && e.data.frameId) {
                const f = document.getElementById(e.data.frameId);
                if (f) {
                    const prev = iframeState[e.data.frameId] || 0;
                    const curr = e.data.frameHeight;
                    // Prevent infinite loops: only update if change is significant (>5px) or it's first load
                    if (prev === 0 || Math.abs(curr - prev) > 5) {
                        f.style.height = curr + "px";
                        iframeState[e.data.frameId] = curr;
                    }
                }
            }
        });

        document.querySelectorAll('iframe[data-base-url]').forEach(iframe => {
            const baseUrl = iframe.getAttribute('data-base-url');
            let p = [];
            for (const a of iframe.attributes) {
                if (a.name.startsWith('data-') && a.name !== 'data-base-url') {
                    p.push(`${a.name.substring(5)}=${encodeURIComponent(a.value)}`);
                }
            }
            iframe.src = baseUrl + '?' + p.join('&') + '&frame_id=' + iframe.id;
        });

        // Initialize Lenis Smooth Scroll
        const lenis = new Lenis({ duration: 1.5, easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)) });
        function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
        requestAnimationFrame(raf);

        // Bubble Shaking (Wobble) Effect
        const turb = document.getElementById('turbulence');
        let seed = 1;
        let lastSeed = 1;
        function animateWobble() {
            seed += 0.02; 
            const currentSeed = Math.floor(seed);
            if (currentSeed !== lastSeed) {
                turb.setAttribute('seed', currentSeed);
                lastSeed = currentSeed;
            }
            requestAnimationFrame(animateWobble);
        }
        animateWobble();

        // Scroll Reveal + Mouse Interaction
        let mouseX = 50, mouseY = 50, progress = 0;
        let drag = { active: false, startX: 0, startY: 0, offX: 0, offY: 0 };

        // Calculate threshold once to avoid layout thrashing during scroll
        let threshold = 19 * parseFloat(getComputedStyle(document.documentElement).fontSize);
        window.addEventListener('resize', () => {
            threshold = 19 * parseFloat(getComputedStyle(document.documentElement).fontSize);
        });

document.addEventListener('scroll', () => {
    const container = document.querySelector('.bubble-scroll-container');
    if (!container) return;

    const rect = container.getBoundingClientRect();
    const viewportHeight = window.innerHeight;
    
    // Animation starts when the TOP of the container is (viewportHeight - threshold)
    // This effectively means 5rem after the container enters the bottom of the screen
    const startPoint = viewportHeight - threshold;
    const distanceScrolledIntoView = startPoint - rect.top;
    
    // Calculate total distance available for animation
    // containerHeight - viewportHeight ensures progress reaches 1 when fixed scroll ends
    const totalHeight = container.offsetHeight - viewportHeight;
    
    progress = distanceScrolledIntoView / totalHeight;
    
    // Clamp between 0 and 1 so it doesn't grow before the threshold
    progress = Math.max(0, Math.min(1, progress));
    
    updateBubble();
});

        document.addEventListener('mousedown', e => {
            drag.active = true;
            drag.startX = e.clientX;
            drag.startY = e.clientY;
            document.body.style.cursor = 'grabbing';
        });

        document.addEventListener('mouseup', () => {
            drag.active = false;
            document.body.style.cursor = 'default';
            // Elastic snap back animation
            const snap = () => {
                if (drag.active) return;
                drag.offX *= 0.8;
                drag.offY *= 0.8;
                if (Math.abs(drag.offX) < 0.1 && Math.abs(drag.offY) < 0.1) { drag.offX = 0; drag.offY = 0; }
                else { requestAnimationFrame(snap); }
                updateBubble();
            };
            snap();
        });

        document.addEventListener('mousemove', (e) => {
            mouseX = (e.clientX / window.innerWidth) * 100;
            mouseY = (e.clientY / window.innerHeight) * 100;
            
            // Parallax Blobs
            const px = (e.clientX - window.innerWidth / 2) * 0.05;
            const py = (e.clientY - window.innerHeight / 2) * 0.05;
            document.querySelector('.blue-blob').style.transform = `translate(${px}px, ${py}px)`;
            document.querySelector('.green-blob').style.transform = `translate(${-px}px, ${-py}px)`;
            
            if (drag.active) {
                // Calculate drag offset in % relative to viewport
                drag.offX = ((e.clientX - drag.startX) / window.innerWidth) * 100;
                drag.offY = ((e.clientY - drag.startY) / window.innerHeight) * 100;
            }

            updateBubble();
        });
function updateBubble() {
    const el = document.getElementById('bubble-reveal');
    if (!el) return;

    const base = progress * 150; 
    
    // Add drag influence to the radius (stretch effect)
    const rx = base + Math.abs(drag.offX);
    const ry = base + Math.abs(drag.offY);

    const cx = 50 + (mouseX - 50) * 0.15 + (drag.offX * 0.5);
    const cy = 50 + (mouseY - 50) * 0.15 + (drag.offY * 0.5);

    el.style.clipPath = `ellipse(${rx}vmax ${ry}vmax at ${cx}% ${cy}%)`;
}
    </script>


<script>
    document.addEventListener('scroll', () => {
        const stack = document.querySelector('.testimonial-stack');
        const card1 = document.getElementById('testi-1');
        const card2 = document.getElementById('testi-2');
        
        if (!stack || !card1 || !card2) return;

        const rect = stack.getBoundingClientRect();
        const windowHeight = window.innerHeight;
        const isMobile = window.innerWidth < 768;

        // This calculation checks where the stack is relative to the viewport center
        // It returns 0 when below screen, 1 when in center, and >1 when leaving top
        let viewProgress = (windowHeight - rect.top) / (windowHeight / 1.5);
        
        // Clamp it for the entrance, but allow it to reverse naturally
        let p = Math.max(0, Math.min(1.2, viewProgress));

        // CARD 1: Fly in from bottom-left
        // When p=0, opacity is 0 and translate is 200px. When p=1, opacity is 1 and translate is 0.
        const c1Opacity = p * 1.5; 
        const c1Move = (1 - p) * 200; 
        const r1 = isMobile ? -2 : -4; // Less rotation on mobile

        card1.style.opacity = Math.min(1, c1Opacity);
        card1.style.transform = `rotate(${r1}deg) translateY(${c1Move}px) scale(${0.9 + (p * 0.1)})`;

        // CARD 2: Fly in later and faster
        const p2 = Math.max(0, p - 0.2); // 0.2 stagger delay
        const c2Opacity = p2 * 1.5;
        const c2Move = (1 - p2) * 300;
        const r2 = isMobile ? 1 : 2; // Less rotation on mobile

        card2.style.opacity = Math.min(1, c2Opacity);
        card2.style.transform = `rotate(${r2}deg) translateY(${c2Move}px) scale(${0.8 + (p2 * 0.2)})`;
        
        // RESET: If you scroll way past, fade them out so they can 're-reveal' later
        if (rect.bottom < 0 || rect.top > windowHeight) {
            card1.style.opacity = 0;
            card2.style.opacity = 0;
        }
    });
</script>
</body>
</html>